import { FC, useEffect, useState } from 'react';
import { Card, CardDescription, CardHeader } from '../ui/card';
import Link from 'next/link';
import { Button } from '../ui/button';
import toast from 'react-hot-toast';

interface MailsProps {
    // Define component props here
    data: {
        google_connected: boolean
        outlook_connected: boolean;
        mails?: {
            from: string,
            subject: string
            body: string,
            outlook?: boolean
            date?: string
            conversationId: string
        }[]
    }
}

const Mails: FC<MailsProps> = ({ data }) => {

    const [openedMail, setOpenedMail] = useState(data.mails?.[0])
    const [replies, setReplies] = useState<{ from: string, subject: string, body: string, outlook: string, date: string, conversationId: string }>()
    const [loading, setLoading] = useState(false)

    useEffect(() => {
        setReplies(undefined)
    }, [openedMail?.conversationId])
    async function handleReplies() {
        console.log('requesting')
        setLoading(true)
        const response = await fetch(`/api/mail?id=${openedMail?.conversationId}&type=${openedMail?.outlook ? "outlook" : "gmail"}`, {
            method: "GET",
        })
        const data = await response.json()
        setLoading(false)
        if (data.error) {
            toast.error(data.error)
            return
        }

        setReplies(data?.data)
    }
    return (
        <Card className='p-2'>
            <div className='flex gap-4'>
                {!data.google_connected && <Link href={'/api/oauth/gmail'}>
                    <Button>Connect Google</Button></Link>}
                {!data.outlook_connected && <Link href={'/api/oauth/outlook'}>
                    <Button>Connect Outlook</Button>
                </Link>}
            </div>
            <div className='flex gap-4 mt-8'>
                <div className='flex flex-col gap-5'>
                    {data.mails?.map((mail) => {
                        return <Card className='px-3 py-1 cursor-pointer w-80'>
                            <div className='flex justify-between items-center'>
                                <p className='text-lg font-bold hover:underline' onClick={() => {
                                    setOpenedMail(mail)
                                }}>{mail.from}</p>
                                {mail.outlook ? <img src='data:image/jpeg;base64,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' className='w-6 h-6' /> : <img src='https://cdn.iconscout.com/icon/free/png-512/free-google-160-189824.png?f=webp&w=256' className='w-4 h-4' />}
                            </div>
                            <p className='text-sm'>{mail.subject}</p>
                        </Card>
                    })}

                </div>
                <div className='flex-1'>
                    <Card className='p-2 cursor-pointer'>
                        <div className='flex justify-between items-center'>
                            <p className='text-lg font-bold hover:underline'>{openedMail?.from}</p>

                            {openedMail?.outlook ? <img src='data:image/jpeg;base64,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' className='w-6 h-6' /> : <img src='https://cdn.iconscout.com/icon/free/png-512/free-google-160-189824.png?f=webp&w=256' className='w-6 h-6' />}

                        </div>
                        <p className='text-sm'>{openedMail?.subject}</p>

                        <div className='mt-10' dangerouslySetInnerHTML={{ __html: openedMail?.body! }}>

                        </div>

                        <Button variant={'destructive'} onClick={handleReplies}>{!loading ? "View Replies" : "Loading..."}</Button>
                    </Card>
                    {replies && <Card className='p-2 cursor-pointer'>
                        <div className='flex justify-between items-center'>
                            <p className='text-lg font-bold hover:underline'>{replies?.from}</p>

                            {openedMail?.outlook ? <img src='data:image/jpeg;base64,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' className='w-6 h-6' /> : <img src='https://cdn.iconscout.com/icon/free/png-512/free-google-160-189824.png?f=webp&w=256' className='w-6 h-6' />}

                        </div>
                        <p className='text-sm'>{replies?.subject}</p>

                        <div className='mt-10' dangerouslySetInnerHTML={{ __html: replies?.body! }}>

                        </div>

                        <Button variant={'destructive'} onClick={handleReplies}>{!loading ? "View Replies" : "Loading..."}</Button>
                    </Card>}
                </div>
            </div>
        </Card>
    )
};

export default Mails;